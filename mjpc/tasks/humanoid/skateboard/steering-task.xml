<mujoco model="Humanoid Skateboard Steer">
  <include file="../../common.xml"/>
  <include file="./skateboard.xml" />
  <size memory="8M"/>

  <compiler autolimits="true" />

  <custom>
    <text name="task_transition" data="Steer" />
    <numeric name="agent_planner" data="2" />
    <numeric name="agent_horizon" data="0.35" />
    <numeric name="agent_integrator" data="3" />
    <numeric name="agent_timestep" data="0.01666666667" />
    <numeric name="sampling_spline_points" data="8" />
    <numeric name="sampling_exploration" data="0.05" />
    <numeric name="sampling_representation" data="1" />
    <numeric name="gradient_spline_points" data="5" />
    <numeric name="ilqg_num_rollouts" data="8" />
    <numeric name="ilqg_regularization_type" data="1" />
    <numeric name="ilqg_representation" data="1" />
    <numeric name="residual_Right Foot Pos" data="0.2 0 1.0" />
    <numeric name="residual_Left Foot Pos" data="1.0 0 1.0" />
    <numeric name="residual_Tilt ratio" data="0.2 0 1.0" />
    <numeric name="residual_Heading clamp l" data="3.14 -3.14 3.14" />
    <numeric name="residual_Heading clamp k" data="1 -3.14 3.14" />
    <numeric name="residual_Heading" data="0 -3.14 3.14" />
    <numeric name="residual_Velocity" data="3.0 -10 10" />
  </custom>

  <default>
    <default class="mocap_site">
      <site type="sphere" size="0.027" rgba="1 0 0 1" group="3" material="target"/>
    </default>
  </default>

  <option timestep="0.01666666667" integrator="implicitfast" cone="elliptic" />

  <worldbody>
    <body name="goal" mocap="true" pos="4 8 0">
      <geom type="cylinder" size="0.5 0.001" contype="0" conaffinity="0" rgba="1 0 0 0.8" group="2"/>
    </body>
  </worldbody>

  <sensor>
    <user name="Control" dim="2" user="3 0.3 0 1.0 0.3" />

    <!-- user sensors for goal position and orientation -->
    <user name="Board Heading" dim="2" user="0 1.0 0 100.0" />
    <!-- <user name="Board Heading Yaw" dim="1" user="6 3 0 100.0 0.03" /> -->
    <!-- <user name="Board Heading Roll" dim="1" user="0 1 0 100.0" /> -->
    <!-- <user name="Board Heading Pitch" dim="1" user="0 1 0 100.0" /> -->
    <user name="Board Velocity Local x" dim="1" user="8 1 0 100.0 0.01" />
    <user name="Board Velocity Local y" dim="1" user="0 0 0 100.0" />
    <user name="Board Velocity Global z" dim="1" user="0 0 0 100.0" />

    <framepos name="trace0" objtype="body" objname="skateboard"/>

    <framelinvel name="skateboard_framelinvel" objtype="body" objname="skateboard"/>
  </sensor>
  <include file="./keyframes/steer_init.xml" />
</mujoco>
